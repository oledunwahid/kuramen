<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://xmlns.jcp.org/jsf/passthrough">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />
    <link rel="stylesheet" href="css/styles.css" />

    <h:head>
        <title>Kuramen Dashboard</title>
    </h:head>
    <h:body>
    <div class="d-flex" id="wrapper">
        <!-- Sidebar -->
        <div class="bg-white" id="sidebar-wrapper">
            <div class="sidebar-heading text-center py-4 primary-text fs-4 fw-bold text-uppercase border-bottom">Kuramen</div>
            <div class="list-group list-group-flush my-3">
                <a href="#" class="list-group-item list-group-item-action bg-transparent second-text active"><i
                        class="fas fa-tachometer-alt me-2"></i>Dashboard</a>
            </div>
        </div>
        <!-- /#sidebar-wrapper -->

        <!-- Page Content -->
        <div id="page-content-wrapper">
            <nav class="navbar navbar-expand-lg navbar-light bg-transparent py-4 px-4">
                <div class="d-flex align-items-center">
                    <i class="fas fa-align-left primary-text fs-4 me-3" id="menu-toggle"></i>
                    <h2 class="fs-2 m-0">Dashboard</h2>
                </div>

                <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                    aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle second-text fw-bold" href="#" id="navbarDropdown"
                                role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                <i class="fas fa-user me-2"></i>Kuramen admin
                            </a>
                            <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                                <li><a class="dropdown-item" href="main.xhtml">Logout</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </nav>
            <div class="container-fluid px-4">
                <div class="row my-5">
                    <h3 class="fs-4 mb-3">Reservations</h3> 
                    <div class="col">
          <h:dataTable value="#{reservation.getAllRecords()}" var="rsrv" class="table table-striped table-hover"> 
            <h:column>
                <f:facet name="header">ID</f:facet>#{rsrv.id}
            </h:column>
            <h:column>
                <f:facet name="header">Nama</f:facet>#{rsrv.nama}
            </h:column>
            <h:column>
                <f:facet name="header">Alamat</f:facet>#{rsrv.alamat}
            </h:column>
            <h:column>
                <f:facet name="header">Jenis Kelamin</f:facet>#{rsrv.jk}
            </h:column>
            <h:column>
                <f:facet name="header">Email</f:facet>#{rsrv.email}
            </h:column>
            <h:column>
                <f:facet name="header">No telephone</f:facet>#{rsrv.tel}
            </h:column><h:column>
                <f:facet name="header">Waktu</f:facet>#{rsrv.hour} 
            </h:column><h:column>
                <f:facet name="header">Orang</f:facet>#{rsrv.orang}
            </h:column>
        </h:dataTable>
                </div>
            </div>
        </div> 
                <div class="row register-form">
                    <div class="col-md-8 offset-md-2">
                        <h:form class="custom-form needs-validation">
                            <h1 class="fs-4 mb-3">Reservation Form</h1>
                            <div class="row form-group">
                                <div class="col-sm-4 label-column"><label class="col-form-label" for="name-input-field">Search by ID </label></div>
                                <div class="col-sm-6 input-column pr-10"><h:inputText id="id" value="#{reservation.id}" class="pe-5" p:required="true"/>
                                    <h:commandButton type="submit"  class="btn btn-primary" value="Search" action="#{reservation.getById()}"></h:commandButton></div>
                            </div>
                        </h:form>
                        <h:form class="needs-validation">
                            <h:inputHidden
                            class="form-control input-focus"
                            id="id-hidden"
                            value="#{reservation.id}"
                        />
                            <br></br>
                            <div class="row form-group">
                                <div class="col-sm-4 label-column"><label class="col-form-label" for="email-input-field">Nama : </label></div>
                                <div class="col-sm-6 input-column"><h:inputText id="nama" value="#{reservation.nama}" class="pe-5" p:required="true"/></div>
                            </div>
                            <br></br>
                            <div class="row form-group">
                                <div class="col-sm-4 label-column"><label class="col-form-label" for="pawssword-input-field">Alamat : </label></div>
                                <div class="col-sm-6 input-column"><h:inputText id="alamat" value="#{reservation.alamat}" class="pe-5" p:required="true"/></div>
                            </div>
                            <br></br>
                            <div class="row form-group">
                                <div class="col-sm-4 label-column"><label class="col-form-label" for="email-input-field">Jenis Kelamin</label></div>
                                <div class="col-sm-6 input-column"> <h:selectOneRadio value="#{reservation.jk}">
                            <f:selectItem itemValue="Laki-Laki" itemLabel="Male"/>
                            <f:selectItem itemValue="Perempuan" itemLabel="Female" class="ms-5"/>
                                </h:selectOneRadio>
                            </div>
                            </div>
                            <br></br>
                            <div class="row form-group">
                                <div class="col-sm-4 label-column"><label class="col-form-label" for="email-input-field">Email : </label></div>
                                <div class="col-sm-6 input-column"><h:inputText id="email" value="#{reservation.email}" class="pe-5" p:required="true"/></div>
                            </div>
                            <br></br>
                            <div class="row form-group">
                                <div class="col-sm-4 label-column"><label class="col-form-label" for="email-input-field">Nomor Telepon :  </label></div>
                                <div class="col-sm-6 input-column"><h:inputText id="tel" value="#{reservation.tel}" class="pe-5" p:required="true"/></div>
                            </div>
                            <br></br>
                            <div class="row form-group">
                                <div class="col-sm-4 label-column"><label class="col-form-label" for="email-input-field">Jam kedatangan : </label></div>
                                <div class="col-sm-6 input-column"><h:inputText id="hour" value="#{reservation.hour}" class="pe-5" p:required="true"/></div>
                            </div>
                            <br></br>
                            <div class="row form-group">
                                <div class="col-sm-4 label-column"><label class="col-form-label" for="email-input-field">Jumlah customer :  </label></div>
                                <div class="col-sm-6 input-column"><h:inputText id="orang" value="#{reservation.orang}" class="pe-5" p:required="true"/></div>
                            </div>
                            <br></br>

                            <h:commandButton value="submit"  class="btn btn-primary mb-5" action="#{reservation.saveReservation2()}"/>
                            
                            <h:commandButton  class="btn btn-primary ms-5 mb-5" value="Update" action="#{reservation.editReservation()}"/>
                            
                            <h:commandButton  class="btn btn-primary ms-5 mb-5" value="Delete" action="#{reservation.deleteReservation()}"/>
                            
                        </h:form>
                    </div>
            </div>
        </div>
        </div>

        
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        var el = document.getElementById("wrapper");
        var toggleButton = document.getElementById("menu-toggle");

        toggleButton.onclick = function () {
            el.classList.toggle("toggled");
        };
    </script>
    </h:body>
</html>

